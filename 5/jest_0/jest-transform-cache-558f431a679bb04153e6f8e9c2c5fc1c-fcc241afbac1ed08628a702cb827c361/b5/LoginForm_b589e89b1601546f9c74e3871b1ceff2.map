{"version":3,"names":["_react","_interopRequireWildcard","require","_io","_reactRouterDom","_auth","_firebase","_interopRequireDefault","_reactToastify","_jsxDevRuntime","_jsxFileName","LoginForm","location","useLocation","navigate","useNavigate","email","setEmail","useState","password","setPassword","resetEmail","setResetEmail","showForgotPassword","setShowForgotPassword","showPassword","setShowPassword","useEffect","_location$state","state","success","toast","position","autoClose","pathname","replace","handleSignUpClick","onLogin","e","preventDefault","signInWithEmailAndPassword","auth","error","handleForgotPassword","sendPasswordResetEmail","console","message","togglePasswordVisibility","jsxDEV","className","children","onSubmit","fileName","lineNumber","columnNumber","onClick","type","placeholder","value","onChange","target","required","IoMailSharp","IoEyeOffSharp","IoEyeSharp","href","ToastContainer","_default","exports","default"],"sources":["LoginForm.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport \"./LoginForm.css\";\nimport { IoEyeSharp, IoEyeOffSharp, IoMailSharp } from \"react-icons/io5\";\nimport { useNavigate, useLocation } from \"react-router-dom\";\nimport {\n  signInWithEmailAndPassword,\n  sendPasswordResetEmail,\n} from \"firebase/auth\";\nimport auth from \"../../utils/firebase\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nconst LoginForm = () => {\n  const location = useLocation();\n  const navigate = useNavigate();\n\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [resetEmail, setResetEmail] = useState(\"\"); // For resetting password\n  const [showForgotPassword, setShowForgotPassword] = useState(false); // Toggle between login and forgot password form\n  const [showPassword, setShowPassword] = useState(false); //showing/hiding password\n\n  useEffect(() => {\n    // Show success message if redirected from signup\n    if (location.state?.success) {\n      toast.success(\"Sign-up successful! Please log in.\", {\n        position: \"top-right\",\n        autoClose: 6000,\n      });\n      navigate(location.pathname, { replace: true });\n    }\n  }, [location, navigate]);\n\n  const handleSignUpClick = () => {\n    navigate(\"/Signup\");\n  };\n\n  const onLogin = async (e) => {\n    e.preventDefault();\n\n    try {\n      await signInWithEmailAndPassword(auth, email, password);\n      toast.success(\"Login successful!\");\n      navigate(\"/homepage\"); // Redirect to homepage on successful login\n    } catch (error) {\n      toast.error(\"Invalid credentials. Please try again.\");\n    }\n  };\n\n  // Handle password reset\n  const handleForgotPassword = async (e) => {\n    e.preventDefault();\n    if (!resetEmail) {\n      toast.error(\"Please enter your email address.\");\n      return;\n    }\n\n    try {\n      await sendPasswordResetEmail(auth, resetEmail);\n      toast.success(\"Password reset email sent! Check your inbox.\");\n      setShowForgotPassword(false); // Close the forgot password form\n    } catch (error) {\n      console.error(error.message);\n      toast.error(\"Error sending password reset email. Please try again.\");\n    }\n  };\n\n  // Toggle password visibility\n  const togglePasswordVisibility = () => {\n    setShowPassword(!showPassword);\n  };\n\n  return (\n    <div className=\"wrapper\">\n      <div className=\"wrapper_alpha\">\n        {!showForgotPassword ? (\n          <form onSubmit={onLogin}>\n            <h1>Welcome to On-Site</h1>\n            <div className=\"register-link\">\n              <p>\n                Don't have an account?{\" \"}\n                <a onClick={handleSignUpClick}>Sign Up</a>\n              </p>\n            </div>\n\n            <div className=\"input-box\">\n              <input\n                type=\"text\"\n                placeholder=\"Email\"\n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n                required\n              />\n              <IoMailSharp className=\"icon\" />\n            </div>\n            <div className=\"input-box\">\n              <input\n                type={showPassword ? \"text\" : \"password\"} // Toggle between password and text\n                placeholder=\"Password\"\n                value={password}\n                onChange={(e) => setPassword(e.target.value)}\n                required\n              />\n              {/* Toggle icon between show/hide */}\n              {showPassword ? (\n                <IoEyeOffSharp\n                  className=\"icon\"\n                  onClick={togglePasswordVisibility}\n                />\n              ) : (\n                <IoEyeSharp\n                  className=\"icon\"\n                  onClick={togglePasswordVisibility}\n                />\n              )}\n            </div>\n            <div className=\"forgot\">\n              <a href=\"#\" onClick={() => setShowForgotPassword(true)}>\n                Forgot password\n              </a>\n            </div>\n            <button type=\"submit\">Sign in</button>\n          </form>\n        ) : (\n          <form onSubmit={handleForgotPassword}>\n            <h1>Reset Password</h1>\n            <p>Enter your email to receive a password reset link.</p>\n\n            <div className=\"input-box\">\n              <input\n                type=\"email\"\n                placeholder=\"Email\"\n                value={resetEmail}\n                onChange={(e) => setResetEmail(e.target.value)}\n                required\n              />\n              <IoMailSharp className=\"icon\" />\n            </div>\n\n            <button type=\"submit\">Send Reset Email</button>\n            <button type=\"button\" onClick={() => setShowForgotPassword(false)}>\n              Cancel\n            </button>\n          </form>\n        )}\n        <ToastContainer />\n      </div>\n    </div>\n  );\n};\n\nexport default LoginForm;\n"],"mappings":"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","ignoreList":[]}