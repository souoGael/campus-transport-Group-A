{"version":3,"names":["_react","_interopRequireWildcard","require","_fa","_io","_reactRouterDom","_firestore","_auth","_reactToastify","_firebase","_interopRequireDefault","_jsxDevRuntime","_jsxFileName","db","getFirestore","validatePassword","password","passwordRegex","test","SignUpForm","navigate","useNavigate","firstName","setFirstName","useState","lastName","setLastName","email","setEmail","setPassword","showPassword","setShowPassword","handleSubmit","e","preventDefault","toast","error","userCredential","createUserWithEmailAndPassword","auth","sendEmailVerification","user","setDoc","doc","uid","success","state","message","handleLoginClick","togglePasswordVisibility","jsxDEV","className","children","onSubmit","fileName","lineNumber","columnNumber","onClick","type","placeholder","value","onChange","target","required","FaRegListAlt","IoMailSharp","IoEyeOffSharp","IoEyeSharp","ToastContainer","_default","exports","default"],"sources":["SignupForm.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport \"./SignupForm.css\";\nimport { FaRegListAlt } from \"react-icons/fa\";\nimport { IoEyeSharp, IoEyeOffSharp, IoMailSharp } from \"react-icons/io5\";\nimport { useNavigate } from \"react-router-dom\";\nimport { setDoc, doc } from \"firebase/firestore\";\nimport { getFirestore } from \"firebase/firestore\";\nimport {\n  createUserWithEmailAndPassword,\n  sendEmailVerification,\n} from \"firebase/auth\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport auth from \"../../utils/firebase\";\n\nconst db = getFirestore();\n\nconst validatePassword = (password) => {\n  // Password must contain at least 1 uppercase letter, 1 number, 1 special character, and be at least 8 characters long\n  const passwordRegex = /^(?=.*[A-Z])(?=.*\\d)(?=.*[\\W_]).{8,}$/;\n  return passwordRegex.test(password);\n};\n\nconst SignUpForm = () => {\n  const navigate = useNavigate();\n\n  // State variables for form inputs\n  const [firstName, setFirstName] = useState(\"\");\n  const [lastName, setLastName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [showPassword, setShowPassword] = useState(false); // Toggle password visibility\n\n  // Form submission handler\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    if (!validatePassword(password)) {\n      toast.error(\n        \"Password must be at least 8 characters long, include an uppercase letter, a number, and a special character.\"\n      );\n      return;\n    }\n    try {\n      // Create a new user with Firebase Authentication\n      const userCredential = await createUserWithEmailAndPassword(\n        auth,\n        email,\n        password\n      );\n\n      // Send email verification\n      await sendEmailVerification(userCredential.user);\n\n      // Add the user's details to Firestore\n      await setDoc(doc(db, \"Users\", userCredential.user.uid), {\n        firstName: firstName,\n        lastName: lastName,\n        email: email,\n      });\n\n      toast.success(\"Account created successfully! Please verify your email.\");\n      navigate(\"/\", { state: { success: true } });\n    } catch (error) {\n      // Handle any errors that may occur during signup\n      toast.error(error.message);\n    }\n  };\n\n  const handleLoginClick = () => {\n    // If the user navigates to login without signing up, do not pass the success state\n    navigate(\"/\");\n  };\n\n  // Toggle password visibility\n  const togglePasswordVisibility = () => {\n    setShowPassword(!showPassword);\n  };\n\n  return (\n    <div className=\"wrapper\">\n      <div className=\"wrapper_alpha\">\n        <form className=\"SignupForm\" onSubmit={handleSubmit}>\n          <h1>Welcome to On-Site</h1>\n          <div className=\"register-link\">\n            <p>\n              Already have an account? <a onClick={handleLoginClick}>Log In</a>\n            </p>\n          </div>\n\n          <div className=\"wrapper_beta\">\n            <div className=\"input-box-small1\">\n              <input\n                type=\"text\"\n                placeholder=\"First name\"\n                value={firstName}\n                onChange={(e) => setFirstName(e.target.value)}\n                required\n              />\n              <FaRegListAlt className=\"icon\" />\n            </div>\n\n            <div className=\"input-box-small2\">\n              <input\n                type=\"text\"\n                placeholder=\"Last name\"\n                value={lastName}\n                onChange={(e) => setLastName(e.target.value)}\n                required\n              />\n              <FaRegListAlt className=\"icon\" />\n            </div>\n          </div>\n\n          <div className=\"input-box\">\n            <input\n              type=\"text\"\n              placeholder=\"Email\"\n              value={email}\n              onChange={(e) => setEmail(e.target.value)}\n              required\n            />\n            <IoMailSharp className=\"icon\" />\n          </div>\n\n          <div className=\"input-box\">\n            <input\n              type={showPassword ? \"text\" : \"password\"} // Toggle between password and text\n              placeholder=\"Password\"\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n              required\n            />\n            {/* Toggle icon between show/hide */}\n            {showPassword ? (\n              <IoEyeOffSharp\n                className=\"icon\"\n                onClick={togglePasswordVisibility}\n              />\n            ) : (\n              <IoEyeSharp className=\"icon\" onClick={togglePasswordVisibility} />\n            )}\n          </div>\n\n          <button type=\"submit\">Sign up</button>\n        </form>\n        {/* Toast container to display notifications */}\n        <ToastContainer />\n      </div>\n    </div>\n  );\n};\n\nexport default SignUpForm;\n"],"mappings":"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","ignoreList":[]}